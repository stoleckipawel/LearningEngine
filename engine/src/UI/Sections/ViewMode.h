#pragma once

#include <cstdint>

#include "Framework/UIRendererSection.h"

// ViewMode holds the user-selected debug view for the renderer.
class ViewMode final : public UIRendererSection
{
  public:
	enum class Type : std::uint8_t  // Keep in sync with Debug/ViewModes.hlsli
	{
		Lit = 0,
		GBufferDiffuse,
		GBufferNormal,
		GBufferRoughness,
		GBufferMetallic,
		GBufferEmissive,
		GBufferAmbientOcclusion,
		GBufferSubsurfaceColor,
		GBufferSubsurfaceStrength,
		DirectDiffuse,
		DirectSpecular,
		DirectSubsurface,
		IndirectDiffuse,
		IndirectSpecular,
		Count
	};

	ViewMode() noexcept = default;
	~ViewMode() = default;

	ViewMode(const ViewMode&) = delete;
	ViewMode(ViewMode&&) = delete;
	ViewMode& operator=(const ViewMode&) = delete;
	ViewMode& operator=(ViewMode&&) = delete;

	Type Get() const noexcept { return m_mode; }
	void Set(Type mode) noexcept { m_mode = mode; }


	UIRendererSectionId GetId() const noexcept override { return UIRendererSectionId::ViewMode; }
	const char* GetTitle() const noexcept override { return "View Modes"; }

	// Builds the view mode controls. Renders only contents; window/layout is owned by the caller.
	void BuildUI() override;

  private:
	Type m_mode = Type::Lit;
};
